<!DOCTYPE html>
<html lang="en">
{{ template "html-head" }}
<style>
    p {
        margin-bottom: 0 !important;
    }
</style>
<body>
<div class="body" data-controller="sync">
    <div class="content">
        <div class="container text-center" style="max-width: 500px;">
            <h3>Synchronizing</h3>
            <div class="progress my-3" style="height: 10px;">
                <div class="progress-bar progress-bar-striped progress-bar-animated"
                     data-target="sync.progressbar"
                     style="width: {{ .TotalSyncProgress }}%"
                     role="progressbar" aria-valuenow="{{ .TotalSyncProgress }}" aria-valuemin="0"
                     aria-valuemax="100"></div>
            </div>

            <p data-target="sync.totalSyncProgress">
            {{ .TotalSyncProgress }}% completed{{ if ne .TotalTimeRemaining "" }}, {{ .TotalTimeRemaining }} remaining{{ end }}.
            </p>

            <button class="btn btn-sm btn-link" data-target="sync.showDetailsButton" data-action="click->sync#showDetails">
                Tap to view information
            </button>

            <div data-target="sync.syncDetails" class="d-none">
                <div data-target="sync.step1" {{ if ne .CurrentStep "1" }}class="d-none"{{end}}>
                    <p>
                        Fetched
                        <span data-target="sync.fetchedHeadersCount">{{ .FetchedHeadersCount }}</span>
                        of <span data-target="sync.totalHeadersToFetch">{{ .TotalHeadersToFetch }}</span> block headers.
                    </p>
                    <p><span data-target="sync.headersFetchProgress">{{ .HeadersFetchProgress }}</span>% through step 1
                        of 3.</p>

                    <p data-target="sync.daysBehind" {{ if eq .DaysBehind "" }}class="d-none"{{end}}>
                        Your wallet is {{ .DaysBehind }} behind.
                    </p>
                </div>

                <div data-target="sync.step2" {{ if ne .CurrentStep "2" }}class="d-none"{{end}}>
                    <p>Discovering used addresses.</p>
                    <p><span data-target="sync.addressDiscoveryProgress">{{ .AddressDiscoveryProgress }}</span> through
                        step 2 of 3.</p>
                </div>

                <div data-target="sync.step3" {{ if ne .CurrentStep "3" }}class="d-none"{{end}}>
                    <p>Scanning
                        <span data-target="sync.currentRescanHeight">{{ .CurrentRescanHeight }}</span>
                        of <span data-target="sync.totalHeadersToFetch">{{ .TotalHeadersToFetch }}</span> block headers.
                    </p>
                    <p><span data-target="sync.rescanProgress">{{ .RescanProgress }}</span>% through step 3 of 3.</p>
                </div>

                <p>
                    Syncing with
                    <span data-target="sync.connectedPeers">{{ .ConnectedPeers }}</span>
                    on <span data-target="sync.networkType">{{ .NetworkType }}</span>.
                </p>
            </div>
        </div>
    </div>
</div>
</body>
</html>
